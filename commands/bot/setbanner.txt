module.exports = {
    name: 'setbanner',
    description: 'Définir la bannière du bot',
    dm: false,
    permissions: 'Aucune',
    options: [
        {
            name: 'image',
            description: 'URL de l\'image de la bannière',
            type: 'string',
            required: true,
        }
    ],
    async execute(interaction, client) {
        if (!client.config.owners.includes(interaction.user.id)) {
            return interaction.reply({
                content: "Tu n'as pas la permission de faire ça.",
                ephemeral: true,
            });
        }

        const image = interaction.options.getString('image');

        try {
            if (!client.user.setBanner) {
                return interaction.reply({
                    content: "Le bot ne peut pas définir de bannière. Cette fonctionnalité est réservée aux bots vérifiés avec une bannière activée.",
                    ephemeral: true,
                });
            }

            await client.user.setBanner(image);
            await interaction.reply("La bannière a été modifiée avec succès !");
        } catch (error) {
            console.error("[ERROR]: Erreur lors de la modification de la bannière :", error);
            await interaction.reply({
                content: "Une erreur est survenue lors de la modification de la bannière. Assurez-vous que l'URL est valide.",
                ephemeral: true,
            });
        }
    },
};
